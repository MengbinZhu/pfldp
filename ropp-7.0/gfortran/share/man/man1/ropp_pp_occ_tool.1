./" $Id: ropp_pp_occ_tool.1 3551 2013-02-25 09:51:28Z idculv $
./"
.TH ROPP_PP_OCC_TOOL 1 31-Jul-2013 ROPP-7 ROPP-7
./"
.SH NAME
ropp_pp_occ_tool
./"
.SH SYNOPSIS
Pre-processing tool to calculate refractivity and dry temperature  profile from
L1 and L2 excess phase radio occultation data using  geometric optics or wave
optics, ionospheric correction, statistical  optimization, Abel transform and
hydrostatic equation.
.PP
./"
.B ropp_pp_occ_tool
.I input_file [input_file...]
\-o output_file
.br
                 [-c <config_file>] [-m <method>] [-mfile <mfile>]
.br
                 [-navfile <nfile>] [-occ <method>] [-bfile <bfile>]
.br
                 [-filter <method>] [-fit] [-ellipsoid]
.br
                 [-h] [-d] [-v]
./"
.SH DESCRIPTION
.I ropp_pp_occ_tool
This program reads RO L1 and L2 excess phase data as a function of time from the
input data files and calculates vertical profiles of L1 and L2 bending angles,
ionospherically corrected bending angle, refractivity and dry temperature.  The
result is written to a ROPP output file.
.B (Reference\ 2.)
./"
.SH FILES
.SS Input
One or more ROPP netCDF files containing one or more profiles of RO data.
.B (Reference\ 1.)

.SS Output
The output ROPP netCDF file contains the bending angles, refractivity and dry
temperature derived from the phase delays in the input file. 

.PP
If the input file contains more than one profile (a 'multi-file') or more
than one input file is specified, the single output file will contain derived
profiles for all the input profiles.
./"

.SH OPTIONS
Option switches are case\-sensitive but may be placed before or after
the input file argument and in any order. All arguments to switches are
mandatory when the switch is used.
.PP
.B -c
\- config_file
.IP
The configuration file allows very many phase and bending angle  processing
options to be specified. For details, including the default values, see 
.B (Reference\ 2.)

.PP
.B -m
\- IC method
.IP
Specify ionospheric correction method [NONE,MSIS,GMSIS,BG]. Default: GMSIS.

.PP
.B -mfile
\- model refrac coeffs file
.IP
Specify model refractivity coefficients file. Default: local search for MSIS_coeff.nc.

.PP
.B -bfile
\- background atmos profile
.IP
Specify background model atmospheric profile file (if using BG ionospheric
correction method).

.PP
.B -navfile
\- external nav bit file
.IP
Specify external navigation bit *_txt file. Default: internal correction.

.PP
.B -occ
\- phase processing method
.IP
Specify processing method [WO,GO]. Default: WO.

.PP
.B -filter
\- filtering method
.IP
Specify filtering method [slpoly,optest]. Default: slpoly (sliding polynomial).

.PP
.B -fit
\- apply fit
.IP
Apply 2-parameter regression fit to model.

.PP
.B -ellipsoid
\- output datum
.IP
Output height with respect to WGS84 ellipsoid. Default: output wrt EGM96 geoid.

.PP
.B -d
\- diagnostics
.IP
Output additional diagnostics to stdout.

.PP
.B -h
\- help
.IP
Requests brief help on the command to stdout.

.PP
.B -v
\- version
.IP
Requests the program version ID to be written to stdout.

.PP
.B -o
\- output file (required)
.IP
Specifies the name of the output ROPP netCDF file.  This will include all the
fields in the input file, with bending angle, refractivity and dry temperature
values appended or amended. 

./"
.SH EXAMPLES
.B 1.
To calculate bending angle, refractivity and dry temperature from one of the
example (single-) files in the data directory:
.PP
 > ropp_pp_occ_tool ../data/input.nc -o example_01.nc

.B 2.
To calculate bending angle, refractivity and dry temperature profiles from all
singlefiles in the data directory:
.PP
 > ropp_pp_occ_tool ../data/*.nc -o example_02.nc
 
Note that the resulting example_02.nc file contains processed data from
all example profiles.

.B 3.
To calculate bending angle, refractivity and dry temperature profiles 
from all profiles contained in the multifile multi.nc:
.PP
 > ropp_pp_occ_tool ../data/multi.nc -o example_03.nc

Since (the multi_* file was generated by concatenating the other
files in the data directory, example_02.nc and example_03.nc should be identical
apart from the file names.
./"

.SH REFERENCES
.PP
.B 1.
ROPP User Guide - Part I: Input/Output module
.br
SAF/ROM/METO/UG/ROPP/002
.PP
.B 2.
ROPP User Guide - Part III: Pre-processor module
.br
SAF/ROM/METO/UG/ROPP/004
./"
.SH AUTHORS
ROPP Development Team, Met Office <romsaf@metoffice.gov.uk>
